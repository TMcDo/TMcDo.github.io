<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Concepteur de Court de Tennis / Tennis Court Designer</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/controls/OrbitControls.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            scroll-behavior: smooth;
        }
        .tab-button.active {
            border-color: #4f46e5;
            color: #4f46e5;
            font-weight: 600;
        }
        #interactive-3d-container {
            width: 100%;
            height: 500px;
            background-color: #f0f4f8;
            border-radius: 0.5rem;
            cursor: grab;
        }
        .fr, .en { display: none; }
        .visible { display: block; }
        .lang-btn.active { background-color: #4f46e5; color: white; }
    </style>
</head>
<body class="bg-gray-100 text-gray-800">

    <div class="container mx-auto p-4 sm:p-6 lg:p-8">
        <header class="text-center mb-8">
            <h1 class="text-3xl sm:text-4xl font-bold text-indigo-700 fr visible">Concepteur de Court de Tennis Maison</h1>
            <h1 class="text-3xl sm:text-4xl font-bold text-indigo-700 en">DIY Tennis Court Designer</h1>
            <p class="mt-2 text-gray-600 fr visible">Votre guide complet pour construire le terrain de vos rêves.</p>
            <p class="mt-2 text-gray-600 en">Your complete guide to building the court of your dreams.</p>
            <div class="mt-4 flex justify-center space-x-2">
                <button id="lang-fr" class="lang-btn active px-4 py-2 text-sm font-semibold bg-white border border-gray-300 rounded-lg shadow-sm">FR</button>
                <button id="lang-en" class="lang-btn px-4 py-2 text-sm font-semibold bg-white border border-gray-300 rounded-lg shadow-sm">EN</button>
            </div>
        </header>

        <!-- Tabs Navigation -->
        <div class="mb-6 border-b border-gray-200">
            <nav class="flex flex-wrap -mb-px" aria-label="Tabs">
                <button class="tab-button active w-full sm:w-auto text-center py-4 px-1 border-b-2 font-medium text-sm fr visible" data-tab="dimensions">
                    Dimensions Officielles
                </button>
                <button class="tab-button w-full sm:w-auto text-center py-4 px-1 border-b-2 font-medium text-sm fr visible" data-tab="visualisation">
                    Visualisation 3D
                </button>
                <button class="tab-button w-full sm:w-auto text-center py-4 px-1 border-b-2 font-medium text-sm fr visible" data-tab="materiaux">
                    Matériaux & Outils
                </button>
                <button class="tab-button w-full sm:w-auto text-center py-4 px-1 border-b-2 font-medium text-sm fr visible" data-tab="conseils">
                    Conseils de Pro
                </button>
                <!-- English Tabs -->
                <button class="tab-button active w-full sm:w-auto text-center py-4 px-1 border-b-2 font-medium text-sm en" data-tab="dimensions">
                    Official Dimensions
                </button>
                <button class="tab-button w-full sm:w-auto text-center py-4 px-1 border-b-2 font-medium text-sm en" data-tab="visualisation">
                    3D Visualization
                </button>
                <button class="tab-button w-full sm:w-auto text-center py-4 px-1 border-b-2 font-medium text-sm en" data-tab="materiaux">
                    Materials & Tools
                </button>
                <button class="tab-button w-full sm:w-auto text-center py-4 px-1 border-b-2 font-medium text-sm en" data-tab="conseils">
                    Pro Tips
                </button>
            </nav>
        </div>

        <!-- Tab Content -->
        <main id="tab-content">
            <!-- Dimensions Tab -->
            <div id="dimensions" class="tab-pane active p-4 bg-white rounded-lg shadow">
                <h2 class="text-2xl font-bold mb-4 fr visible">Dimensions Réglementaires</h2>
                <h2 class="text-2xl font-bold mb-4 en">Regulation Dimensions</h2>
                
                <p class="mb-6 fr visible">Ces dimensions sont conformes aux normes de la Fédération Internationale de Tennis (ITF). L'espace total recommandé inclut les zones de dégagement pour un jeu sécuritaire.</p>
                <p class="mb-6 en">These dimensions comply with the International Tennis Federation (ITF) standards. The recommended total space includes runoff areas for safe play.</p>

                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div>
                        <h3 class="text-xl font-semibold mb-3 text-indigo-600 fr visible">Surface de Jeu</h3>
                        <h3 class="text-xl font-semibold mb-3 text-indigo-600 en">Playing Area</h3>
                        <ul class="space-y-2">
                            <li><strong><span class="fr visible">Longueur du terrain</span><span class="en">Court Length</span>:</strong> 23.77 m (78 ft)</li>
                            <li><strong><span class="fr visible">Largeur (doubles)</span><span class="en">Width (doubles)</span>:</strong> 10.97 m (36 ft)</li>
                            <li><strong><span class="fr visible">Largeur (simples)</span><span class="en">Width (singles)</span>:</strong> 8.23 m (27 ft)</li>
                            <li><strong><span class="fr visible">Carré de service</span><span class="en">Service Box</span>:</strong> 6.40 m x 4.115 m (21 ft x 13.5 ft)</li>
                        </ul>
                    </div>
                    <div>
                        <h3 class="text-xl font-semibold mb-3 text-indigo-600 fr visible">Filet et Lignes</h3>
                        <h3 class="text-xl font-semibold mb-3 text-indigo-600 en">Net & Lines</h3>
                        <ul class="space-y-2">
                            <li><strong><span class="fr visible">Hauteur du filet (centre)</span><span class="en">Net Height (center)</span>:</strong> 0.914 m (3 ft)</li>
                            <li><strong><span class="fr visible">Hauteur du filet (poteaux)</span><span class="en">Net Height (posts)</span>:</strong> 1.07 m (3.5 ft)</li>
                            <li><strong><span class="fr visible">Largeur des lignes</span><span class="en">Line Width</span>:</strong> 5 cm (2 in) - sauf ligne de fond (10 cm / 4 in)</li>
                        </ul>
                    </div>
                </div>

                <div class="mt-8 bg-indigo-50 p-4 rounded-lg">
                    <h3 class="text-xl font-semibold mb-3 text-indigo-800 fr visible">Espace Total Recommandé</h3>
                    <h3 class="text-xl font-semibold mb-3 text-indigo-800 en">Recommended Total Space</h3>
                    <ul class="space-y-2">
                        <li><strong><span class="fr visible">Longueur totale</span><span class="en">Total Length</span>:</strong> 36.57 m (120 ft)</li>
                        <li><strong><span class="fr visible">Largeur totale</span><span class="en">Total Width</span>:</strong> 18.29 m (60 ft)</li>
                        <li><strong><span class="fr visible">Dégagement derrière la ligne de fond</span><span class="en">Runoff behind baseline</span>:</strong> 6.40 m (21 ft)</li>
                        <li><strong><span class="fr visible">Dégagement sur les côtés</span><span class="en">Runoff on sides</span>:</strong> 3.66 m (12 ft)</li>
                    </ul>
                </div>
                
                 <!-- SVG Diagram -->
                 <div class="mt-8">
                    <h3 class="text-xl font-semibold mb-3 text-indigo-600 fr visible">Diagramme du Terrain</h3>
                    <h3 class="text-xl font-semibold mb-3 text-indigo-600 en">Court Diagram</h3>
                    <svg viewBox="0 0 360 180" class="w-full bg-green-200 rounded-lg shadow-inner p-2" aria-labelledby="title-fr title-en" role="img">
                        <title id="title-fr" lang="fr">Diagramme d'un terrain de tennis avec les dimensions principales.</title>
                        <title id="title-en" lang="en">Diagram of a tennis court with main dimensions.</title>
                        <!-- Outer court area (doubles) -->
                        <rect x="20" y="20" width="320" height="140" fill="#4a90e2" stroke="white" stroke-width="1"/>
                        <!-- Singles court area -->
                        <rect x="58" y="20" width="244" height="140" fill="none" stroke="white" stroke-width="1" stroke-dasharray="2,2"/>
                        <!-- Service boxes -->
                        <line x1="20" y1="90" x2="340" y2="90" stroke="white" stroke-width="1" /> <!-- Net line -->
                        <rect x="58" y="20" width="122" height="70" fill="none" stroke="white" stroke-width="1"/>
                        <rect x="180" y="20" width="122" height="70" fill="none" stroke="white" stroke-width="1"/>
                        <!-- Center line -->
                        <line x1="180" y1="20" x2="180" y2="160" stroke="white" stroke-width="1" />
                        <!-- Baseline center marks -->
                        <line x1="175" y1="20" x2="185" y2="20" stroke="white" stroke-width="1" />
                        <line x1="175" y1="160" x2="185" y2="160" stroke="white" stroke-width="1" />
                         <!-- Annotations -->
                        <text x="180" y="15" font-size="6" fill="white" text-anchor="middle">23.77 m (78 ft)</text>
                        <text x="10" y="90" font-size="6" fill="black" text-anchor="middle" transform="rotate(-90, 10, 90)">10.97 m (36 ft)</text>
                    </svg>
                </div>
            </div>

            <!-- 3D Visualization Tab -->
            <div id="visualisation" class="tab-pane">
                <div class="p-4 bg-white rounded-lg shadow">
                    <h2 class="text-2xl font-bold mb-4 fr visible">Visualisation 3D Interactive</h2>
                    <h2 class="text-2xl font-bold mb-4 en">Interactive 3D Visualization</h2>
                    <p class="mb-4 text-gray-600 fr visible">Cliquez et glissez pour faire pivoter le terrain. Utilisez la molette de la souris pour zoomer. Obtenez une perspective réelle de votre projet.</p>
                    <p class="mb-4 text-gray-600 en">Click and drag to rotate the court. Use the mouse wheel to zoom. Get a real perspective of your project.</p>
                    <div id="interactive-3d-container"></div>
                </div>
            </div>

            <!-- Materials & Tools Tab -->
            <div id="materiaux" class="tab-pane">
                 <div class="p-4 bg-white rounded-lg shadow">
                    <h2 class="text-2xl font-bold mb-4 fr visible">Matériaux & Outils Requis</h2>
                    <h2 class="text-2xl font-bold mb-4 en">Required Materials & Tools</h2>
                    <p class="mb-6 text-gray-600 fr visible">Voici une liste de base pour un terrain en dur (hard court). Les quantités varient selon la taille de votre projet. Exportez cette liste pour votre magasinage.</p>
                     <p class="mb-6 text-gray-600 en">Here is a basic list for a hard court. Quantities will vary based on your project size. Export this list for your shopping.</p>
                    <div class="flex items-center space-x-4 mb-6">
                        <button id="export-csv" class="bg-indigo-600 text-white font-semibold py-2 px-4 rounded-lg hover:bg-indigo-700 transition duration-300">
                            <span class="fr visible">Exporter en CSV</span>
                            <span class="en">Export to CSV</span>
                        </button>
                        <button id="copy-text" class="bg-gray-200 text-gray-800 font-semibold py-2 px-4 rounded-lg hover:bg-gray-300 transition duration-300">
                            <span class="fr visible">Copier la liste</span>
                            <span class="en">Copy List</span>
                        </button>
                    </div>

                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                        <div>
                            <h3 class="text-xl font-semibold mb-3 text-indigo-600 fr visible">Matériaux</h3>
                            <h3 class="text-xl font-semibold mb-3 text-indigo-600 en">Materials</h3>
                            <table class="w-full text-left" id="materials-table">
                                <thead class="border-b">
                                    <tr>
                                        <th class="py-2 fr visible">Item</th><th class="py-2 en">Item</th>
                                        <th class="py-2 fr visible">Description</th><th class="py-2 en">Description</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr class="border-b"><td class="py-2 font-medium fr visible">Base (gravier, pierre)</td><td class="py-2 font-medium en">Base (gravel, stone)</td><td class="py-2 fr visible">Pour une fondation stable et un bon drainage.</td><td class="py-2 en">For a stable foundation and good drainage.</td></tr>
                                    <tr class="border-b"><td class="py-2 font-medium fr visible">Béton ou Asphalte</td><td class="py-2 font-medium en">Concrete or Asphalt</td><td class="py-2 fr visible">Surface de jeu principale. L'asphalte est plus souple.</td><td class="py-2 en">Main playing surface. Asphalt is more flexible.</td></tr>
                                    <tr class="border-b"><td class="py-2 font-medium fr visible">Scellant Acrylique</td><td class="py-2 font-medium en">Acrylic Resurfacer</td><td class="py-2 fr visible">Prépare la surface pour la peinture et comble les pores.</td><td class="py-2 en">Prepares the surface for paint and fills pores.</td></tr>
                                    <tr class="border-b"><td class="py-2 font-medium fr visible">Peinture de surface</td><td class="py-2 font-medium en">Surface Paint</td><td class="py-2 fr visible">Peinture acrylique colorée pour la surface de jeu.</td><td class="py-2 en">Colored acrylic paint for the playing area.</td></tr>
                                    <tr class="border-b"><td class="py-2 font-medium fr visible">Peinture pour lignes</td><td class="py-2 font-medium en">Line Paint</td><td class="py-2 fr visible">Peinture blanche texturée pour une bonne visibilité.</td><td class="py-2 en">White textured paint for good visibility.</td></tr>
                                    <tr class="border-b"><td class="py-2 font-medium fr visible">Poteaux et filet</td><td class="py-2 font-medium en">Net Posts & Net</td><td class="py-2 fr visible">Poteaux en acier galvanisé, filet en polyester tressé.</td><td class="py-2 en">Galvanized steel posts, braided polyester net.</td></tr>
                                    <tr class="border-b"><td class="py-2 font-medium fr visible">Clôture</td><td class="py-2 font-medium en">Fencing</td><td class="py-2 fr visible">Typiquement, clôture à mailles de chaîne de 3m de haut.</td><td class="py-2 en">Typically, 10 ft high chain-link fence.</td></tr>
                                </tbody>
                            </table>
                        </div>
                        <div>
                            <h3 class="text-xl font-semibold mb-3 text-indigo-600 fr visible">Outils</h3>
                            <h3 class="text-xl font-semibold mb-3 text-indigo-600 en">Tools</h3>
                            <table class="w-full text-left" id="tools-table">
                                <thead class="border-b">
                                    <tr>
                                        <th class="py-2 fr visible">Outil</th><th class="py-2 en">Tool</th>
                                        <th class="py-2 fr visible">Usage</th><th class="py-2 en">Usage</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr class="border-b"><td class="py-2 font-medium fr visible">Excavatrice / Pelle</td><td class="py-2 font-medium en">Excavator / Shovel</td><td class="py-2 fr visible">Pour préparer le site et creuser la fondation.</td><td class="py-2 en">To prepare the site and dig the foundation.</td></tr>
                                    <tr class="border-b"><td class="py-2 font-medium fr visible">Niveau laser / à corde</td><td class="py-2 font-medium en">Laser / String Level</td><td class="py-2 fr visible">Assurer une pente correcte (1%) pour le drainage.</td><td class="py-2 en">To ensure a proper slope (1%) for drainage.</td></tr>
                                    <tr class="border-b"><td class="py-2 font-medium fr visible">Rouleau compacteur</td><td class="py-2 font-medium en">Compactor Roller</td><td class="py-2 fr visible">Compacter la base de gravier.</td><td class="py-2 en">To compact the gravel base.</td></tr>
                                    <tr class="border-b"><td class="py-2 font-medium fr visible">Ruban à mesurer</td><td class="py-2 font-medium en">Measuring Tape</td><td class="py-2 fr visible">Pour marquer précisément toutes les dimensions.</td><td class="py-2 en">To accurately mark all dimensions.</td></tr>
                                    <tr class="border-b"><td class="py-2 font-medium fr visible">Cordeau traceur</td><td class="py-2 font-medium en">Chalk Line</td><td class="py-2 fr visible">Pour tracer des lignes droites avant de peindre.</td><td class="py-2 en">To snap straight lines before painting.</td></tr>
                                    <tr class="border-b"><td class="py-2 font-medium fr visible">Raclette de sol</td><td class="py-2 font-medium en">Squeegee Applicator</td><td class="py-2 fr visible">Pour appliquer la peinture et le scellant uniformément.</td><td class="py-2 en">To apply paint and resurfacer evenly.</td></tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Pro Tips Tab -->
            <div id="conseils" class="tab-pane">
                <div class="p-4 bg-white rounded-lg shadow">
                    <h2 class="text-2xl font-bold mb-4 fr visible">Conseils de Pro pour le Bricoleur</h2>
                    <h2 class="text-2xl font-bold mb-4 en">Pro Tips for the DIY Builder</h2>
                    <div class="space-y-6">
                        <div>
                            <h3 class="text-xl font-semibold text-indigo-600 fr visible">1. L'Orientation est Clé</h3>
                            <h3 class="text-xl font-semibold text-indigo-600 en">1. Orientation is Key</h3>
                            <p class="mt-2 fr visible">Orientez votre terrain sur un axe Nord-Sud. Cela évite que le soleil levant ou couchant n'éblouisse les joueurs en début et fin de journée.</p>
                            <p class="mt-2 en">Orient your court along a North-South axis. This prevents the rising or setting sun from blinding players at the start and end of the day.</p>
                        </div>
                        <div>
                            <h3 class="text-xl font-semibold text-indigo-600 fr visible">2. Ne Négligez pas la Fondation</h3>
                            <h3 class="text-xl font-semibold text-indigo-600 en">2. Don't Skimp on the Foundation</h3>
                            <p class="mt-2 fr visible">La longévité de votre terrain dépend de sa base. Assurez un excellent drainage avec une pente de 1% (1 cm de dénivelé par mètre) et une base de gravier bien compactée. Un mauvais drainage cause des fissures.</p>
                            <p class="mt-2 en">The longevity of your court depends on its base. Ensure excellent drainage with a 1% slope (1 cm drop per meter) and a well-compacted gravel base. Poor drainage causes cracks.</p>
                        </div>
                        <div>
                            <h3 class="text-xl font-semibold text-indigo-600 fr visible">3. Choisissez la Bonne Surface</h3>
                            <h3 class="text-xl font-semibold text-indigo-600 en">3. Choose the Right Surface</h3>
                            <p class="mt-2 fr visible">Pour un projet DIY, un terrain en dur (béton ou asphalte avec revêtement acrylique) est le plus durable et nécessite le moins d'entretien. La terre battue demande un entretien quotidien et l'herbe est très difficile à maintenir à un niveau de jeu acceptable.</p>
                            <p class="mt-2 en">For a DIY project, a hard court (concrete or asphalt with acrylic coating) is the most durable and requires the least maintenance. Clay courts need daily upkeep, and grass is very difficult to maintain at a playable level.</p>
                        </div>
                        <div>
                            <h3 class="text-xl font-semibold text-indigo-600 fr visible">4. La Patience est une Vertu pour la Peinture</h3>
                            <h3 class="text-xl font-semibold text-indigo-600 en">4. Patience is a Virtue for Painting</h3>
                            <p class="mt-2 fr visible">Laissez le béton ou l'asphalte "guérir" pendant au moins 30 jours avant d'appliquer tout scellant ou peinture. Appliquez plusieurs couches minces plutôt qu'une seule couche épaisse pour un fini professionnel et durable.</p>
                            <p class="mt-2 en">Let new concrete or asphalt cure for at least 30 days before applying any sealant or paint. Apply several thin coats rather than one thick coat for a professional, long-lasting finish.</p>
                        </div>
                    </div>
                </div>
            </div>
        </main>
        
        <footer class="text-center mt-12 text-gray-500 text-sm">
            <p>&copy; 2025 Conçu pour les passionnés de construction et de tennis.</p>
        </footer>

    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Language Switcher
            const langFrBtn = document.getElementById('lang-fr');
            const langEnBtn = document.getElementById('lang-en');
            const frElements = document.querySelectorAll('.fr');
            const enElements = document.querySelectorAll('.en');

            function setLanguage(lang) {
                if (lang === 'fr') {
                    frElements.forEach(el => el.classList.add('visible'));
                    enElements.forEach(el => el.classList.remove('visible'));
                    langFrBtn.classList.add('active');
                    langEnBtn.classList.remove('active');
                } else {
                    enElements.forEach(el => el.classList.add('visible'));
                    frElements.forEach(el => el.classList.remove('visible'));
                    langEnBtn.classList.add('active');
                    langFrBtn.classList.remove('active');
                }
                // Also switch tabs based on new language visibility
                const activeTabId = document.querySelector('.tab-button.active').dataset.tab;
                document.querySelectorAll('.tab-button').forEach(btn => {
                     if (btn.dataset.tab === activeTabId) {
                         if ((lang === 'fr' && btn.classList.contains('fr')) || (lang === 'en' && btn.classList.contains('en'))) {
                            btn.classList.add('active');
                         } else {
                            btn.classList.remove('active');
                         }
                     }
                });
            }

            langFrBtn.addEventListener('click', () => setLanguage('fr'));
            langEnBtn.addEventListener('click', () => setLanguage('en'));
            
            // Initial language set based on browser or default to FR
            const userLang = navigator.language || navigator.userLanguage;
            if (userLang.startsWith('en')) {
                setLanguage('en');
            } else {
                setLanguage('fr');
            }

            // Tab functionality
            const tabs = document.querySelectorAll('.tab-button');
            const panes = document.querySelectorAll('.tab-pane');

            tabs.forEach(tab => {
                tab.addEventListener('click', () => {
                    const tabId = tab.dataset.tab;

                    // Deactivate all tabs within the same language
                    document.querySelectorAll(`.tab-button.${tab.classList.contains('fr') ? 'fr' : 'en'}`).forEach(t => t.classList.remove('active'));
                    tab.classList.add('active');

                    panes.forEach(pane => {
                        if (pane.id === tabId) {
                            pane.classList.add('active');
                            if (tabId === 'visualisation') {
                                // Defer 3D init until tab is shown to get correct container size
                                setTimeout(init3DScene, 0);
                            }
                        } else {
                            pane.classList.remove('active');
                        }
                    });
                });
            });

            // Export and Copy functionality
            const exportBtn = document.getElementById('export-csv');
            const copyBtn = document.getElementById('copy-text');

            function getTableDataAsText() {
                let text = "Matériaux / Materials\n";
                text += "Item;Description\n";
                document.querySelectorAll('#materials-table tbody tr').forEach(row => {
                    const cells = row.querySelectorAll('td');
                    const frVisible = cells[0].classList.contains('visible');
                    const item = frVisible ? cells[0].textContent : cells[1].textContent;
                    const desc = frVisible ? cells[2].textContent : cells[3].textContent;
                    text += `${item};${desc}\n`;
                });
                
                text += "\nOutils / Tools\n";
                text += "Outil;Usage\n";
                document.querySelectorAll('#tools-table tbody tr').forEach(row => {
                     const cells = row.querySelectorAll('td');
                    const frVisible = cells[0].classList.contains('visible');
                    const item = frVisible ? cells[0].textContent : cells[1].textContent;
                    const desc = frVisible ? cells[2].textContent : cells[3].textContent;
                    text += `${item};${desc}\n`;
                });
                return text;
            }

            exportBtn.addEventListener('click', () => {
                const csvContent = "data:text/csv;charset=utf-8," + getTableDataAsText().replace(/\n/g, '%0A').replace(/;/g, ',');
                const encodedUri = encodeURI(csvContent);
                const link = document.createElement("a");
                link.setAttribute("href", encodedUri);
                link.setAttribute("download", "liste_materiaux_tennis.csv");
                document.body.appendChild(link);
                link.click();
                document.body.removeChild(link);
            });

            copyBtn.addEventListener('click', () => {
                const text = getTableDataAsText().replace(/;/g, '\t'); // Use tabs for better pasting into spreadsheets
                navigator.clipboard.writeText(text).then(() => {
                    const originalText = copyBtn.innerHTML;
                    copyBtn.innerHTML = `<span class="fr visible">Copié!</span><span class="en">Copied!</span>`;
                    setTimeout(() => { copyBtn.innerHTML = originalText; }, 2000);
                }).catch(err => {
                    console.error('Failed to copy text: ', err);
                });
            });

            // --- Three.js Scene ---
            let scene, camera, renderer, controls;
            
            function init3DScene() {
                const container = document.getElementById('interactive-3d-container');
                if (!container || container.querySelector('canvas')) return; // Already initialized or container not found

                // Scene
                scene = new THREE.Scene();
                scene.background = new THREE.Color(0xf0f4f8);

                // Camera
                camera = new THREE.PerspectiveCamera(60, container.clientWidth / container.clientHeight, 0.1, 1000);
                camera.position.set(25, 20, 40);

                // Renderer
                renderer = new THREE.WebGLRenderer({ antialias: true });
                renderer.setSize(container.clientWidth, container.clientHeight);
                renderer.setPixelRatio(window.devicePixelRatio);
                container.appendChild(renderer.domElement);
                
                // Controls
                controls = new THREE.OrbitControls(camera, renderer.domElement);
                controls.enableDamping = true;
                controls.dampingFactor = 0.05;
                controls.maxPolarAngle = Math.PI / 2.1; // prevent camera from going under the court

                // Lighting
                const ambientLight = new THREE.AmbientLight(0xffffff, 0.7);
                scene.add(ambientLight);
                const directionalLight = new THREE.DirectionalLight(0xffffff, 0.5);
                directionalLight.position.set(10, 20, 5);
                scene.add(directionalLight);

                // Create Court
                createCourt();
                
                // Handle resize
                window.addEventListener('resize', onWindowResize, false);
                
                animate();
            }

            function createCourt() {
                const courtLength = 23.77;
                const courtWidth = 10.97;
                const totalLength = 36.57;
                const totalWidth = 18.29;

                // Total area
                const totalGeo = new THREE.PlaneGeometry(totalWidth, totalLength);
                const totalMat = new THREE.MeshLambertMaterial({ color: 0x2E8B57 }); // Dark green
                const totalArea = new THREE.Mesh(totalGeo, totalMat);
                totalArea.rotation.x = -Math.PI / 2;
                scene.add(totalArea);

                // Playing area
                const playingGeo = new THREE.PlaneGeometry(courtWidth, courtLength);
                const playingMat = new THREE.MeshLambertMaterial({ color: 0x4169E1 }); // Royal blue
                const playingArea = new THREE.Mesh(playingGeo, playingMat);
                playingArea.rotation.x = -Math.PI / 2;
                playingArea.position.y = 0.01; // Slightly above total area
                scene.add(playingArea);

                // Lines
                const lineMaterial = new THREE.MeshBasicMaterial({ color: 0xffffff });
                const lineWidth = 0.05;

                // Function to create a line
                const createLine = (w, h, x, z) => {
                    const lineGeo = new THREE.PlaneGeometry(w, h);
                    const line = new THREE.Mesh(lineGeo, lineMaterial);
                    line.rotation.x = -Math.PI / 2;
                    line.position.set(x, 0.02, z);
                    scene.add(line);
                };
                
                // Baselines and Sidelines
                createLine(courtWidth, lineWidth, 0, courtLength / 2); // Top Baseline
                createLine(courtWidth, lineWidth, 0, -courtLength / 2); // Bottom Baseline
                createLine(lineWidth, courtLength, courtWidth / 2, 0); // Right Sideline
                createLine(lineWidth, courtLength, -courtWidth / 2, 0); // Left Sideline
                
                // Singles Sidelines
                const singlesWidth = 8.23;
                createLine(lineWidth, courtLength, singlesWidth / 2, 0);
                createLine(lineWidth, courtLength, -singlesWidth / 2, 0);
                
                // Service Lines
                const serviceLinePos = 6.40;
                createLine(singlesWidth, lineWidth, 0, serviceLinePos);
                createLine(singlesWidth, lineWidth, 0, -serviceLinePos);
                
                // Center Service Line
                createLine(lineWidth, serviceLinePos * 2, 0, 0);
                
                // Net
                const netHeight = 0.914;
                const netGeo = new THREE.PlaneGeometry(courtWidth + 1, netHeight);
                const netMat = new THREE.MeshBasicMaterial({ color: 0x333333, side: THREE.DoubleSide, transparent: true, opacity: 0.5 });
                const net = new THREE.Mesh(netGeo, netMat);
                net.position.set(0, netHeight / 2, 0);
                scene.add(net);
                
                // Net posts
                const postGeo = new THREE.CylinderGeometry(0.05, 0.05, 1.07, 16);
                const postMat = new THREE.MeshLambertMaterial({ color: 0x555555 });
                const post1 = new THREE.Mesh(postGeo, postMat);
                const post2 = new THREE.Mesh(postGeo, postMat);
                post1.position.set(-(courtWidth / 2 + 0.5), 1.07 / 2, 0);
                post2.position.set(courtWidth / 2 + 0.5, 1.07 / 2, 0);
                scene.add(post1);
                scene.add(post2);
            }

            function onWindowResize() {
                const container = document.getElementById('interactive-3d-container');
                if (container && camera && renderer) {
                    camera.aspect = container.clientWidth / container.clientHeight;
                    camera.updateProjectionMatrix();
                    renderer.setSize(container.clientWidth, container.clientHeight);
                }
            }

            function animate() {
                requestAnimationFrame(animate);
                if (controls) controls.update();
                if (renderer && scene && camera) renderer.render(scene, camera);
            }
        });
    </script>
</body>
</html>

