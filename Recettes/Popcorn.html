<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Le Grand Livre des Assaisonnements pour Popcorn</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&family=Playfair+Display:wght@700&display=swap" rel="stylesheet">
    <!-- Chosen Palette: Warm Neutrals & Subtle Accents -->
    <!-- Application Structure Plan: The application is designed as a single-page interactive recipe book. The core is a filterable grid of recipe cards, promoting exploration. Users can select a flavor category (Salty, Sweet, etc.) via prominent filter buttons, which instantly updates the displayed recipes. Clicking a card opens a modal with detailed instructions, keeping the main interface clean. A "Random Recipe" button adds an element of fun and discovery. This structure was chosen for its intuitive navigation and direct interaction, allowing users to quickly find or stumble upon recipes without leaving the page, making it more engaging than a static text document. -->
    <!-- Visualization & Content Choices: 
        - Report Info: Recipe Categories -> Goal: Organize/Compare -> Viz/Presentation: Donut Chart -> Interaction: None (static view) -> Justification: Provides a quick visual summary of the recipe distribution, adding a data-driven element to the header. -> Library: Chart.js/Canvas.
        - Report Info: Individual Recipes -> Goal: Inform/Organize -> Viz/Presentation: Interactive Cards in a Grid -> Interaction: Click to open modal -> Justification: Cards are scannable and visually appealing. The grid layout is responsive and familiar to users. -> Library/Method: HTML/CSS/JS.
        - Report Info: Flavor Profiles -> Goal: Filter/Navigate -> Viz/Presentation: Filter Buttons -> Interaction: Click to filter grid -> Justification: Provides clear, task-oriented navigation for users to narrow down their choices. -> Library/Method: HTML/CSS/JS.
        - CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        .font-display {
            font-family: 'Playfair Display', serif;
        }
        .card-enter {
            animation: card-enter 0.5s ease-out;
        }
        @keyframes card-enter {
            from {
                opacity: 0;
                transform: scale(0.9);
            }
            to {
                opacity: 1;
                transform: scale(1);
            }
        }
    </style>
</head>
<body class="bg-amber-50 text-stone-800">

    <div id="app-container" class="container mx-auto px-4 py-8 md:py-12">

        <header class="text-center mb-12">
            <h1 class="font-display text-4xl md:text-6xl text-amber-900 mb-4">Le Grand Livre du Popcorn</h1>
            <p class="text-lg text-stone-600 max-w-2xl mx-auto">Transformez une simple collation en une exp√©rience gastronomique. Explorez, filtrez et d√©couvrez votre prochain assaisonnement favori.</p>
        </header>

        <main>
            <div class="flex flex-col md:flex-row gap-8 md:gap-12 mb-12">
                <div class="w-full md:w-1/3 lg:w-1/4">
                    <div class="bg-white p-6 rounded-2xl shadow-lg sticky top-8">
                        <h3 class="font-display text-xl text-amber-800 border-b border-amber-200 pb-3 mb-4">Cat√©gories</h3>
                        <div id="filters" class="flex flex-wrap gap-2">
                        </div>
                        <div class="mt-6">
                            <h3 class="font-display text-xl text-amber-800 border-b border-amber-200 pb-3 mb-4">En panne d'inspiration ?</h3>
                            <button id="random-btn" class="w-full bg-amber-500 text-white font-bold py-3 px-4 rounded-lg hover:bg-amber-600 transition-colors duration-300 shadow-md">Recette Al√©atoire</button>
                        </div>
                        <div class="mt-6">
                             <h3 class="font-display text-xl text-amber-800 border-b border-amber-200 pb-3 mb-4">Distribution</h3>
                             <div class="chart-container relative h-64 w-full max-w-xs mx-auto">
                                <canvas id="recipesChart"></canvas>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="w-full md:w-2/3 lg:w-3/4">
                    <div class="mb-8">
                        <input type="text" id="search-input" placeholder="Rechercher une recette ou un ingr√©dient..." class="w-full p-4 border-2 border-amber-200 rounded-lg focus:ring-2 focus:ring-amber-400 focus:border-amber-400 transition-shadow duration-300 shadow-sm">
                    </div>
                    <div id="intro-text" class="bg-white/70 backdrop-blur-sm p-6 rounded-2xl mb-8 shadow">
                        <h2 class="font-display text-2xl text-amber-900 mb-2">Bienvenue dans notre collection de saveurs !</h2>
                        <p class="text-stone-600">Cette section est votre terrain de jeu culinaire. Parcourez toutes nos cr√©ations d'assaisonnements pour popcorn, des classiques r√©confortants aux m√©langes les plus audacieux. Utilisez les filtres pour affiner votre recherche par profil de saveur ou tapez un ingr√©dient dans la barre de recherche pour trouver la recette parfaite. Chaque carte est une porte d'entr√©e vers une nouvelle d√©gustation. Cliquez pour r√©v√©ler les secrets de pr√©paration !</p>
                    </div>
                    <div id="recipes-grid" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
                    </div>
                     <div id="no-results" class="hidden text-center py-12">
                        <p class="text-xl text-stone-500">Aucune recette ne correspond √† votre recherche.</p>
                    </div>
                </div>
            </div>
        </main>

    </div>

    <div id="recipe-modal" class="fixed inset-0 bg-black bg-opacity-60 backdrop-blur-sm flex items-center justify-center p-4 z-50 hidden">
        <div id="modal-content" class="bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto transform transition-all duration-300 scale-95 opacity-0">
        </div>
    </div>

    <script>
        const recipesData = [
            { name: "Parmesan et Ail", category: "Sal√©", icon: "üßÇ", ingredients: ["1/4 tasse de parmesan fra√Æchement r√¢p√©", "1 c. √† caf√© de poudre d'ail", "1/2 c. √† caf√© de persil s√©ch√©", "Sel et poivre noir"], prep: "M√©langez tout et saupoudrez sur le popcorn chaud arros√© de beurre fondu." },
            { name: "Ranch Maison", category: "Sal√©", icon: "üßÇ", ingredients: ["1 c. √† soupe de babeurre en poudre", "1 c. √† caf√© d'aneth s√©ch√©", "1 c. √† caf√© de persil s√©ch√©", "1/2 c. √† caf√© de poudre d'oignon", "1/2 c. √† caf√© de poudre d'ail", "Sel et poivre"], prep: "Combinez et passez au moulin √† √©pices pour une poudre extra-fine." },
            { name: "Sel et Vinaigre", category: "Sal√©", icon: "üßÇ", ingredients: ["2 c. √† soupe de vinaigre blanc en poudre", "1 c. √† caf√© de sel fin"], prep: "M√©langez la poudre de vinaigre et le sel. C'est la cl√© pour un go√ªt authentique sans humidifier le popcorn." },
            { name: "Cannelle et Sucre", category: "Sucr√©", icon: "üç¨", ingredients: ["2 c. √† soupe de sucre", "1 c. √† caf√© de cannelle moulue", "Une pinc√©e de sel"], prep: "M√©langez et saupoudrez sur le popcorn chaud et beurr√©." },
            { name: "Chocolat et Caramel Sal√©", category: "Sucr√©", icon: "üç¨", ingredients: ["2 c. √† soupe de cacao en poudre", "2 c. √† soupe de sucre √† glacer", "1/2 c. √† caf√© de fleur de sel"], prep: "Tamisez le cacao et le sucre √† glacer. Ajoutez la fleur de sel et saupoudrez." },
            { name: "G√¢teau d'Anniversaire", category: "Sucr√©", icon: "üç¨", ingredients: ["2 c. √† soupe de beurre fondu", "1/4 tasse de sucre √† glacer", "1/2 c. √† caf√© d'extrait de vanille", "2 c. √† soupe de paillettes color√©es"], prep: "M√©langez le beurre fondu et la vanille. Versez sur le popcorn. Ajoutez le sucre √† glacer et les paillettes, puis m√©langez bien." },
            { name: "√ârable et Bacon", category: "Sucr√©-Sal√©", icon: "ü•®", ingredients: ["2 c. √† soupe de sucre d'√©rable en poudre", "2 tranches de bacon cuites croustillantes et √©miett√©es", "1/2 c. √† caf√© de poivre noir"], prep: "M√©langez et saupoudrez sur du popcorn beurr√©." },
            { name: "Miso et Miel", category: "Sucr√©-Sal√©", icon: "ü•®", ingredients: ["1 c. √† soupe de beurre", "1 c. √† caf√© de p√¢te de miso blanc", "1 c. √† caf√© de miel", "Graines de s√©same grill√©es"], prep: "Faites fondre le beurre, le miso et le miel. Versez sur le popcorn, m√©langez et terminez avec les graines de s√©same." },
            { name: "Beurre d'Arachide et Chocolat", category: "Sucr√©-Sal√©", icon: "ü•®", ingredients: ["2 c. √† soupe de beurre d'arachide en poudre", "1 c. √† soupe de cacao en poudre", "2 c. √† soupe de sucre en poudre", "Pinc√©e de sel"], prep: "M√©langez tous les ingr√©dients secs et saupoudrez sur le popcorn l√©g√®rement huil√©." },
            { name: "Sriracha et Lime", category: "Piquant", icon: "üî•", ingredients: ["1 c. √† soupe de beurre fondu", "1-2 c. √† caf√© de sauce Sriracha", "Le zeste d'une lime", "Sel"], prep: "M√©langez beurre et Sriracha. Versez sur le popcorn. Ajoutez le zeste et le sel." },
            { name: "Cajun √âpic√©", category: "Piquant", icon: "üî•", ingredients: ["1 c. √† caf√© de paprika fum√©", "1/2 c. √† caf√© de poivre de Cayenne", "1/2 c. √† caf√© de poudre d'ail", "1/2 c. √† caf√© de poudre d'oignon", "1/2 c. √† caf√© de thym s√©ch√©", "Sel et poivre noir"], prep: "Combinez toutes les √©pices et saupoudrez." },
            { name: "Mangue et Habanero", category: "Piquant", icon: "üî•", ingredients: ["2 c. √† soupe de mangue s√©ch√©e en poudre", "1/4 c. √† caf√© de poudre de piment habanero", "Pinc√©e de sel"], prep: "M√©langez les poudres et le sel. Saupoudrez sur le popcorn pour un m√©lange fruit√© et enflamm√©." },
            { name: "Inspiration Mexicaine (Elote)", category: "Saveurs du Monde", icon: "üåç", ingredients: ["1 c. √† soupe de beurre fondu", "1/4 tasse de fromage Cotija √©miett√©", "1 c. √† caf√© de poudre de chili", "Le zeste d'une lime", "Coriandre fra√Æche hach√©e"], prep: "Versez le beurre sur le popcorn, puis ajoutez le reste des ingr√©dients et m√©langez." },
            { name: "Inspiration Japonaise (Furikake)", category: "Saveurs du Monde", icon: "üåç", ingredients: ["2 c. √† soupe de beurre fondu", "2 c. √† soupe d'assaisonnement Furikake"], prep: "Versez le beurre fondu, saupoudrez de Furikake et m√©langez." },
            { name: "Inspiration Indienne (Chaat Masala)", category: "Saveurs du Monde", icon: "üåç", ingredients: ["1 c. √† soupe d'huile de coco fondue", "1-2 c. √† caf√© de Chaat Masala"], prep: "M√©langez l'huile et l'√©pice sur le popcorn chaud." },
            { name: "Cheddar Blanc et Jalape√±o", category: "Fromag√©", icon: "üßÄ", ingredients: ["1/4 tasse de poudre de fromage cheddar blanc", "1/2 c. √† caf√© de poudre de jalape√±o s√©ch√©", "Sel"], prep: "M√©langez les poudres et saupoudrez sur le popcorn chaud." },
            { name: "Fromage de Ch√®vre et Fines Herbes", category: "Fromag√©", icon: "üßÄ", ingredients: ["2 c. √† soupe d'huile d'olive", "1/4 tasse de fromage de ch√®vre √©miett√©", "1 c. √† caf√© d'herbes de Provence", "Poivre noir"], prep: "Arrosez d'huile d'olive, puis ajoutez le fromage et les herbes en m√©langeant d√©licatement." }
        ];

        document.addEventListener('DOMContentLoaded', () => {
            const filtersContainer = document.getElementById('filters');
            const grid = document.getElementById('recipes-grid');
            const searchInput = document.getElementById('search-input');
            const noResults = document.getElementById('no-results');
            const modal = document.getElementById('recipe-modal');
            const modalContent = document.getElementById('modal-content');
            const randomBtn = document.getElementById('random-btn');
            const chartCanvas = document.getElementById('recipesChart');

            let activeFilter = 'Tous';

            const categories = ['Tous', ...new Set(recipesData.map(r => r.category))];
            const categoryColors = {
                'Sal√©': '#3b82f6',
                'Sucr√©': '#ec4899',
                'Sucr√©-Sal√©': '#f97316',
                'Piquant': '#ef4444',
                'Saveurs du Monde': '#14b8a6',
                'Fromag√©': '#f59e0b'
            };

            function renderFilters() {
                filtersContainer.innerHTML = categories.map(cat => `
                    <button class="filter-btn px-4 py-2 rounded-lg text-sm font-medium transition-all duration-200 ${activeFilter === cat ? 'bg-amber-800 text-white shadow-md' : 'bg-white text-stone-700 hover:bg-amber-100'}" data-filter="${cat}">
                        ${cat}
                    </button>
                `).join('');
            }

            function renderRecipes(recipes) {
                grid.innerHTML = '';
                if (recipes.length === 0) {
                    noResults.classList.remove('hidden');
                } else {
                    noResults.classList.add('hidden');
                }
                recipes.forEach(recipe => {
                    const card = document.createElement('div');
                    card.className = 'bg-white rounded-2xl shadow-lg overflow-hidden cursor-pointer hover:shadow-xl hover:-translate-y-1 transition-all duration-300 card-enter';
                    card.innerHTML = `
                        <div class="p-6">
                            <div class="flex justify-between items-start">
                                <h3 class="font-display text-xl text-amber-900 mb-2">${recipe.name}</h3>
                                <span class="text-3xl">${recipe.icon}</span>
                            </div>
                            <p class="text-sm font-medium rounded-full px-3 py-1 inline-block" style="background-color: ${categoryColors[recipe.category] || '#6b7280'}20; color: ${categoryColors[recipe.category] || '#6b7280'}">${recipe.category}</p>
                        </div>
                    `;
                    card.addEventListener('click', () => openModal(recipe));
                    grid.appendChild(card);
                });
            }
            
            function filterAndRender() {
                const searchTerm = searchInput.value.toLowerCase();
                let filteredRecipes = recipesData;

                if (activeFilter !== 'Tous') {
                    filteredRecipes = filteredRecipes.filter(r => r.category === activeFilter);
                }

                if (searchTerm) {
                    filteredRecipes = filteredRecipes.filter(r => 
                        r.name.toLowerCase().includes(searchTerm) ||
                        r.ingredients.some(i => i.toLowerCase().includes(searchTerm))
                    );
                }
                
                renderRecipes(filteredRecipes);
            }

            function openModal(recipe) {
                modalContent.innerHTML = `
                    <div class="p-6 md:p-8">
                        <div class="flex justify-between items-center mb-6">
                            <h2 class="font-display text-3xl text-amber-900">${recipe.name}</h2>
                            <button id="close-modal" class="text-stone-400 hover:text-stone-800 text-3xl">&times;</button>
                        </div>
                        <div class="grid md:grid-cols-2 gap-8">
                            <div>
                                <h4 class="font-bold text-lg text-stone-700 mb-3 border-b pb-2">Ingr√©dients</h4>
                                <ul class="list-disc list-inside space-y-2 text-stone-600">
                                    ${recipe.ingredients.map(i => `<li>${i}</li>`).join('')}
                                </ul>
                            </div>
                            <div>
                                <h4 class="font-bold text-lg text-stone-700 mb-3 border-b pb-2">Pr√©paration</h4>
                                <p class="text-stone-600">${recipe.prep}</p>
                            </div>
                        </div>
                    </div>
                `;
                modal.classList.remove('hidden');
                setTimeout(() => {
                    modalContent.classList.remove('opacity-0', 'scale-95');
                    modalContent.classList.add('opacity-100', 'scale-100');
                }, 10);

                document.getElementById('close-modal').addEventListener('click', closeModal);
            }

            function closeModal() {
                modalContent.classList.add('opacity-0', 'scale-95');
                setTimeout(() => {
                    modal.classList.add('hidden');
                }, 300);
            }
            
            function renderChart() {
                const categoryCounts = recipesData.reduce((acc, recipe) => {
                    acc[recipe.category] = (acc[recipe.category] || 0) + 1;
                    return acc;
                }, {});

                const chartData = {
                    labels: Object.keys(categoryCounts),
                    datasets: [{
                        label: 'Recettes',
                        data: Object.values(categoryCounts),
                        backgroundColor: Object.keys(categoryCounts).map(cat => categoryColors[cat]),
                        borderColor: '#fef3c7',
                        borderWidth: 3
                    }]
                };

                new Chart(chartCanvas, {
                    type: 'doughnut',
                    data: chartData,
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                position: 'bottom',
                                labels: {
                                    font: {
                                        family: "'Inter', sans-serif"
                                    },
                                    padding: 15
                                }
                            }
                        }
                    }
                });
            }

            filtersContainer.addEventListener('click', e => {
                if (e.target.classList.contains('filter-btn')) {
                    activeFilter = e.target.dataset.filter;
                    renderFilters();
                    filterAndRender();
                }
            });

            searchInput.addEventListener('input', filterAndRender);

            randomBtn.addEventListener('click', () => {
                const randomRecipe = recipesData[Math.floor(Math.random() * recipesData.length)];
                openModal(randomRecipe);
            });
            
            modal.addEventListener('click', (e) => {
                if (e.target === modal) {
                    closeModal();
                }
            });

            document.addEventListener('keydown', (e) => {
                if (e.key === "Escape" && !modal.classList.contains('hidden')) {
                    closeModal();
                }
            });

            renderFilters();
            filterAndRender();
            renderChart();
        });
    </script>
</body>
</html>

